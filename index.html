<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-translate-key="siteTitle">Xalça Dünyası - Ən Gözəl Xalçalar</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Playfair+Display:wght@700;900&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        :root {
            --primaryColor: #005f73; /* Dərin firuzəyi */
            --secondaryColor: #e9d8a6; /* Açıq qum rəngi / qızılıya çalan krem */
            --accentColor: #ee9b00; /* Canlı narıncı/qızılı */
            --textColor: #2a2a2a; /* Qoyu boz */
            --lightTextColor: #f8f9fa; /* Çox açıq boz / ağa yaxın */
            --whiteColor: #ffffff;
            --footerBgColor: #001219; /* Çox qoyu mavi/qara */
            
            --fontFamilyPrimary: 'Playfair Display', serif;
            --fontFamilySecondary: 'Montserrat', sans-serif;

            --headerHeight: 70px;
            --sectionPadding: 80px 20px;
            --cardShadow: 0 6px 12px rgba(0,0,0,0.08);
            --smoothTransition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1); /* Daha hamar keçid */
            --borderRadius: 8px;
        }

        /* Ümumi Stilizasiya */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px; /* Responsive font üçün baza */
        }

        body {
            font-family: var(--fontFamilySecondary);
            line-height: 1.7;
            color: var(--textColor);
            background-color: var(--whiteColor);
            overflow-x: hidden; /* Yan scrollbarın qarşısını alır */
        }

        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        h1, h2, h3, h4 {
            font-family: var(--fontFamilyPrimary);
            color: var(--primaryColor);
            margin-bottom: 1.2rem;
            line-height: 1.3;
        }
        h1 { font-size: 3rem; }
        h2 { font-size: 2.5rem; }
        h3 { font-size: 1.75rem; }
        h4 { font-size: 1.25rem; }


        p {
            margin-bottom: 1rem;
            color: #555;
        }

        a {
            text-decoration: none;
            color: var(--accentColor);
            transition: var(--smoothTransition);
        }
        a:hover {
            color: var(--primaryColor);
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
            border-radius: var(--borderRadius);
        }

        .buttonPrimary {
            display: inline-block;
            background-color: var(--accentColor);
            color: var(--whiteColor);
            padding: 12px 28px;
            border: none;
            border-radius: 50px; /* Daha yumru kənarlar */
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: var(--smoothTransition);
            text-align: center;
            box-shadow: 0 4px 10px rgba(238, 155, 0, 0.3);
        }
        .buttonPrimary:hover {
            background-color: var(--primaryColor);
            color: var(--whiteColor); /* Hover rəngini dəqiqləşdirək */
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 95, 115, 0.4);
        }
        .buttonSecondary {
            display: inline-block;
            background-color: transparent;
            color: var(--primaryColor);
            padding: 10px 25px;
            border: 2px solid var(--primaryColor);
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: var(--smoothTransition);
        }
        .buttonSecondary:hover {
            background-color: var(--primaryColor);
            color: var(--whiteColor);
            transform: translateY(-3px);
        }


        /* Header */
        .siteHeader {
            background-color: rgba(255,255,255,0.9); /* Yüngül şəffaflıq */
            backdrop-filter: blur(10px); /* Blur effekti */
            padding: 0; /* Yuxarı-aşağı padding headerContainer-də idarə olunacaq */
            position: fixed;
            width: 100%;
            height: var(--headerHeight);
            top: 0;
            left: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.07);
            transition: background-color 0.3s ease, box-shadow 0.3s ease;
        }
        .headerContainer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 100%; /* Header hündürlüyünü tam tutsun */
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
        }
        .logo {
            font-family: var(--fontFamilyPrimary);
            font-size: 2rem;
            font-weight: 900; /* Daha qalın loqo */
            color: var(--primaryColor);
        }
        .logo a { color: var(--primaryColor); }
        .logo a:hover { color: var(--accentColor); }

        /* Dil Dəyişdirici */
        .languageSwitcher {
            display: flex;
            align-items: center;
            margin-left: 20px; /* Naviqasiyadan ayırmaq üçün */
        }
        .languageSwitcher button {
            background: none;
            border: 1px solid var(--primaryColor);
            color: var(--primaryColor);
            padding: 5px 8px;
            margin-left: 5px;
            cursor: pointer;
            font-size: 0.85rem;
            border-radius: 4px;
            transition: var(--smoothTransition);
        }
        .languageSwitcher button.activeLang {
            background-color: var(--primaryColor);
            color: var(--whiteColor);
        }
        .languageSwitcher button:hover:not(.activeLang) {
            background-color: var(--secondaryColor);
        }
        
        .navAndControls {
            display: flex;
            align-items: center;
        }

        /* Əsas Naviqasiya (Desktop) */
        .mainNavDesktop ul {
            list-style: none;
            display: flex;
        }
        .mainNavDesktop ul li {
            margin-left: 30px;
        }
        .mainNavDesktop ul li a {
            color: var(--textColor);
            font-weight: 500;
            font-size: 1rem;
            padding-bottom: 8px; /* Alt xətt üçün yer */
            position: relative;
        }
        .mainNavDesktop ul li a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--accentColor);
            transition: width 0.3s ease;
        }
        .mainNavDesktop ul li a:hover::after,
        .mainNavDesktop ul li a.active::after {
            width: 100%;
        }
        .mainNavDesktop ul li a.active {
            color: var(--primaryColor);
        }


        .cartButtonContainer {
            position: relative;
            cursor: pointer;
            margin-left: 25px;
        }
        .cartIcon i {
            font-size: 1.6rem;
            color: var(--primaryColor);
        }
        .cartItemCount {
            position: absolute;
            top: -8px;
            right: -10px;
            background-color: var(--accentColor);
            color: var(--whiteColor);
            border-radius: 50%;
            padding: 3px 7px;
            font-size: 0.7rem;
            font-weight: bold;
            border: 1px solid var(--whiteColor);
        }

        /* Mobil Menyu Düyməsi (Hamburger) */
        .mobileMenuButton {
            display: none; /* Standart olaraq gizli */
            background: none;
            border: none;
            font-size: 1.8rem;
            color: var(--primaryColor);
            cursor: pointer;
            z-index: 1005; /* Mobil menyudan üstdə olsun */
            padding: 10px;
        }

        /* Mobil Naviqasiya Paneli (Açılan) */
        .mainNavMobile {
            position: fixed;
            top: 0; /* Başlanğıcda headerin üstündə */
            left: 0;
            width: 100%;
            height: 100vh;
            background-color: rgba(0, 95, 115, 0.98); /* Əsas rəngin bir az şəffaf versiyası */
            backdrop-filter: blur(5px);
            z-index: 1002; /* Headerdən bir az aşağıda, amma məzmundan üstdə */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transform: translateY(-100%); /* Başlanğıcda yuxarıda gizli */
            opacity: 0;
            visibility: hidden;
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55), opacity 0.4s ease, visibility 0.4s ease; /* Hamar açılış/bağlanış */
        }
        .mainNavMobile.active {
            transform: translateY(0);
            opacity: 1;
            visibility: visible;
        }
        .mainNavMobile ul {
            list-style: none;
            text-align: center;
        }
        .mainNavMobile ul li {
            margin: 25px 0;
        }
        .mainNavMobile ul li a {
            color: var(--lightTextColor);
            font-size: 1.8rem; /* Daha böyük menyu linkləri */
            font-weight: 700;
            font-family: var(--fontFamilyPrimary);
            padding: 10px 20px;
            display: block;
            transition: color 0.3s ease, transform 0.3s ease;
        }
        .mainNavMobile ul li a:hover {
            color: var(--accentColor);
            transform: scale(1.1);
        }
        .mainNavMobile .languageSwitcher { /* Mobil menyuda dil seçimi */
            margin-top: 30px;
        }
        .mainNavMobile .languageSwitcher button {
            color: var(--lightTextColor);
            border-color: var(--lightTextColor);
            font-size: 1rem;
            padding: 8px 12px;
        }
         .mainNavMobile .languageSwitcher button.activeLang {
            background-color: var(--accentColor);
            color: var(--primaryColor);
            border-color: var(--accentColor);
        }


        /* Section Ümumi Stili */
        .section {
            padding-top: calc(var(--headerHeight) + var(--sectionPadding)/2); /* Header qədər boşluq */
            padding-bottom: calc(var(--sectionPadding)/2);
            min-height: 70vh; /* Minimum hündürlük */
            position: relative; /* Parallax və digər elementlər üçün */
            background-color: var(--whiteColor); /* Default arxa fon */
        }
        /* Parallax Layering Effect (Sections sliding on top of each other) */
        .section.stickySection {
            position: sticky;
            top: var(--headerHeight); /* Headerin hündürlüyü qədər yuxarıdan yapışsın */
            z-index: 1; /* Default z-index */
            /* Hər növbəti sticky section bir əvvəlkindən daha yüksək z-indexə malik olmalıdır */
        }
        #home { z-index: 0; /* Home section ən altdadır */ }
        #about.stickySection { z-index: 2; background-color: #fdfaf2; /* Yüngül fərqli fon */ }
        #newArrivals.stickySection { z-index: 3; background-color: var(--whiteColor); }
        #products.stickySection { z-index: 4; background-color: #faf5eb; }
        #bestSellers.stickySection { z-index: 5; background-color: var(--whiteColor); }
        #advertisement.stickySection { z-index: 6; /* Reklam fərqli olsun */ background-color: var(--primaryColor); color: var(--lightTextColor); }
        #advertisement.stickySection .sectionTitle, #advertisement.stickySection h3, #advertisement.stickySection p { color: var(--lightTextColor); }
        #advertisement.stickySection .sectionTitle::after { background-color: var(--secondaryColor); }
        #testimonials.stickySection { z-index: 7; background-color: #fefcf7; }
        #carpetCare.stickySection { z-index: 8; background-color: var(--whiteColor); }
        #services.stickySection { z-index: 9; background-color: #f7f3e9; }
        #contact.stickySection { z-index: 10; background-color: var(--whiteColor); }
        /* Son section yapışqan olmamalıdır ki, footer görünsün */


        .sectionTitle {
            text-align: center;
            font-size: 2.8rem;
            margin-bottom: 50px;
            position: relative;
            padding-bottom: 15px;
            font-weight: 900;
        }
        .sectionTitle::after {
            content: '';
            width: 100px;
            height: 5px;
            background-color: var(--accentColor);
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            border-radius: 3px;
        }
        
        /* Home Section (Slider) */
        #home {
            padding: 0;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: var(--whiteColor);
            position: relative;
            overflow: hidden;
        }
        .sliderContainer { width: 100%; height: 100%; position: relative; }
        .slide {
            width: 100%; height: 100%; position: absolute; top: 0; left: 0;
            background-size: cover; background-position: center;
            opacity: 0; transition: opacity 1.8s ease-in-out, transform 1.8s ease-in-out;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transform: scale(1.05); /* Başlanğıcda bir az böyük */
        }
        .slide.active { opacity: 1; transform: scale(1); /* Aktiv olduqda normal ölçü */ }
        .slideContent {
            background-color: rgba(0,0,0,0.6);
            padding: 40px;
            border-radius: var(--borderRadius);
            max-width: 75%;
            animation: fadeInDown 1s ease-out 0.5s backwards;
        }
        .slideContent h1 { font-size: 3.5rem; margin-bottom: 1.5rem; color: var(--whiteColor); }
        .slideContent h1::after { display: none; }
        .slideContent p { font-size: 1.3rem; margin-bottom: 2rem; color: var(--lightTextColor); }

        @keyframes fadeInDown {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* About Section */
        .aboutContent { display: flex; flex-wrap: wrap; gap: 40px; align-items: center; }
        .aboutText { flex: 1; min-width: 300px; animation: fadeInLeft 1s ease-out backwards; }
        .aboutImageContainer { flex: 1; min-width: 300px; animation: fadeInRight 1s ease-out backwards; }
        .aboutImageContainer img { box-shadow: 0 10px 25px rgba(0,0,0,0.1); }

        @keyframes fadeInLeft {
            from { opacity: 0; transform: translateX(-50px); } to { opacity: 1; transform: translateX(0); }
        }
        @keyframes fadeInRight {
            from { opacity: 0; transform: translateX(50px); } to { opacity: 1; transform: translateX(0); }
        }
        
        /* Products Section (Xalçalar) & New Arrivals & Best Sellers */
        .productGrid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 35px;
        }
        .productCard {
            background-color: var(--whiteColor);
            border-radius: var(--borderRadius);
            box-shadow: var(--cardShadow);
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
        }
        .productCard:hover {
            transform: translateY(-12px) scale(1.02);
            box-shadow: 0 12px 24px rgba(0,0,0,0.12);
        }
        .productImageContainer { width: 100%; height: 260px; overflow: hidden; }
        .productImageContainer img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease; }
        .productCard:hover .productImageContainer img { transform: scale(1.15); }
        .productInfo { padding: 20px; flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between; }
        .productName { font-size: 1.4rem; color: var(--primaryColor); margin-bottom: 10px; font-weight: 700; }
        .productPrice { font-size: 1.3rem; color: var(--accentColor); font-weight: bold; margin-bottom: 15px; }
        .productActions { display: flex; justify-content: space-between; gap: 10px; margin-top: auto; }
        .productActions .buttonPrimary, .productActions .buttonSecondary {
            flex-grow: 1; font-size: 0.9rem; padding: 10px 15px;
        }
        .productActions .buttonSecondary { border-color: var(--accentColor); color: var(--accentColor);}
        .productActions .buttonSecondary:hover { background-color: var(--accentColor); color: var(--whiteColor); }

        /* Advertisement Section */
        #advertisement { text-align: center; }
        .advertisementContent h3 { font-size: 2.2rem; margin-bottom: 1.5rem; font-weight: 700;}
        .advertisementContent p { font-size: 1.2rem; margin-bottom: 2.5rem; max-width: 750px; margin-left: auto; margin-right: auto; opacity: 0.9;}
        .advertisementContent .buttonPrimary {
            background-color: var(--secondaryColor); color: var(--primaryColor);
            padding: 15px 35px; font-size: 1.1rem; font-weight: bold;
        }
        .advertisementContent .buttonPrimary:hover { background-color: var(--whiteColor); color: var(--primaryColor); }

        /* Testimonials Section */
        .testimonialSlider { position: relative; overflow: hidden; padding: 20px 0; }
        .testimonialSlidesContainer { display: flex; transition: transform 0.5s ease-in-out; }
        .testimonialSlide {
            min-width: 100%; /* Hər slayt tam eni tutsun */
            padding: 0 50px; /* Yanlarda düymələr üçün boşluq */
            box-sizing: border-box;
            text-align: center;
        }
        .testimonialCard {
            background-color: var(--whiteColor);
            padding: 30px;
            border-radius: var(--borderRadius);
            box-shadow: var(--cardShadow);
            margin: 10px; /* Slayderdə kartlar arasında məsafə */
        }
        .testimonialQuote { font-size: 1.1rem; font-style: italic; margin-bottom: 15px; color: #444;}
        .testimonialAuthor { font-weight: bold; color: var(--primaryColor); }
        .testimonialAuthor img { width: 70px; height: 70px; border-radius: 50%; margin: 0 auto 10px auto; object-fit: cover; }
        .sliderControl {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(0, 95, 115, 0.7);
            color: white;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            border-radius: 50%;
            z-index: 10;
            font-size: 1.5rem;
            width: 45px; height: 45px; display:flex; align-items:center; justify-content:center;
        }
        .sliderControl:hover { background-color: var(--primaryColor); }
        .prevSlide { left: 5px; }
        .nextSlide { right: 5px; }

        /* Carpet Care Section */
        .careGrid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
        .careItem { background: var(--whiteColor); padding: 25px; border-radius: var(--borderRadius); box-shadow: var(--cardShadow); }
        .careItem i { font-size: 2.5rem; color: var(--accentColor); margin-bottom: 15px; display: block; text-align: center; }
        .careItem h4 { text-align: center; }

        /* Services Section */
        .servicesGrid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 30px; margin-top: 30px; }
        .serviceItem {
            background-color: var(--whiteColor); padding: 30px; text-align: center;
            border-radius: var(--borderRadius); box-shadow: var(--cardShadow);
            transition: var(--smoothTransition); border-top: 4px solid transparent;
        }
        .serviceItem:hover {
            transform: translateY(-8px); box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            border-top-color: var(--accentColor);
        }
        .serviceItem i { font-size: 3rem; color: var(--primaryColor); margin-bottom: 20px; transition: var(--smoothTransition); }
        .serviceItem:hover i { color: var(--accentColor); transform: scale(1.1); }
        .serviceItem h4 { font-size: 1.4rem; margin-bottom: 10px; }

        /* Contact Section */
        .contactLayout { display: flex; flex-wrap: wrap; gap: 40px; }
        .contactInfo, .contactMap { flex: 1; min-width: 300px; }
        .contactDetail { display: flex; align-items: center; margin-bottom: 20px; font-size: 1rem; }
        .contactDetail i { font-size: 1.5rem; color: var(--primaryColor); margin-right: 18px; width: 25px; text-align: center; }
        .contactMap iframe { width: 100%; height: 420px; border: none; border-radius: var(--borderRadius); box-shadow: var(--cardShadow); }
        .socialIcons { margin-top: 25px; }
        .socialIcons a { margin-right: 18px; }
        .socialIcons a i { font-size: 2rem; color: var(--primaryColor); transition: var(--smoothTransition); }
        .socialIcons a:hover i { color: var(--accentColor); transform: scale(1.2) rotate(5deg); }

        /* Footer */
        .siteFooter {
            background-color: var(--footerBgColor); color: var(--lightTextColor);
            text-align: center; padding: 40px 20px; margin-top: 50px;
            /* Footer yapışqan bölmələrin üstündə görünməsi üçün */
            position: relative;
            z-index: 11; /* Bütün sticky section-lardan daha yüksək z-index */
        }
        .siteFooter p { margin: 5px 0; font-size: 0.95rem; color: #ccc; }
        .siteFooter a { color: var(--secondaryColor); }
        .siteFooter a:hover { color: var(--accentColor); }

        /* Scroll to Top Button */
        .scrollToTopButton {
            position: fixed; bottom: 30px; right: 30px;
            background-color: var(--accentColor); color: var(--whiteColor);
            width: 50px; height: 50px; text-align: center; line-height: 50px;
            font-size: 1.5rem; border-radius: 50%; cursor: pointer;
            display: none; z-index: 999;
            transition: background-color 0.3s ease, opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease;
            opacity: 0; visibility: hidden; transform: scale(0.8);
        }
        .scrollToTopButton.show {
            display: flex; align-items: center; justify-content: center; /* İkonu mərkəzləşdirmək üçün */
            opacity: 1; visibility: visible; transform: scale(1);
        }
        .scrollToTopButton:hover { background-color: var(--primaryColor); transform: scale(1.1) rotate(5deg); }

        /* Cart Modal */
        .cartModal {
            position: fixed; top: 0; right: -420px; /* Başlanğıcda kənarda */
            width: 100%; max-width: 400px; height: 100%;
            background-color: var(--whiteColor); box-shadow: -8px 0 20px rgba(0,0,0,0.15);
            z-index: 1003; /* Mobil menyudan daha üstdə */
            transition: right 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
            display: flex; flex-direction: column; padding: 25px;
        }
        .cartModal.open { right: 0; }
        .cartModalHeader { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #eee; padding-bottom: 15px; margin-bottom: 20px; }
        .cartModalHeader h3 { margin: 0; font-size: 1.6rem; }
        .closeCartButton { font-size: 2rem; color: var(--textColor); cursor: pointer; background: none; border: none; line-height: 1; }
        .cartModalBody { flex-grow: 1; overflow-y: auto; padding-right: 10px; /* Scrollbar üçün yer */ }
        .cartItem { display: flex; align-items: center; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px solid #f0f0f0; }
        .cartItem img { width: 70px; height: 70px; object-fit: cover; margin-right: 18px; border-radius: var(--borderRadius); }
        .cartItemInfo { flex-grow: 1; }
        .cartItemInfo h4 { font-size: 1.05rem; margin: 0 0 8px 0; color: var(--primaryColor); font-family: var(--fontFamilySecondary); font-weight: 500; }
        .cartItemInfo p { font-size: 0.95rem; margin: 0; }
        .cartItemQuantityInput { width: 45px; text-align: center; margin: 0 8px; padding: 5px; border: 1px solid #ddd; border-radius: 4px; font-size: 0.9rem; }
        .cartItemRemoveButton { background: none; border: none; color: #e74c3c; cursor: pointer; font-size: 1.1rem; padding: 5px; transition: color 0.3s; }
        .cartItemRemoveButton:hover { color: #c0392b; }
        .cartModalFooter { border-top: 1px solid #eee; padding-top: 20px; margin-top: 20px; }
        .cartTotal { display: flex; justify-content: space-between; font-size: 1.3rem; font-weight: bold; margin-bottom: 20px; }
        .cartTotal span:first-child { color: var(--primaryColor); }
        .emptyCartMessage { text-align: center; padding: 30px 0; color: #777; font-size: 1.1rem; }

        /* Product Details Modal */
        .productDetailsModal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.75); backdrop-filter: blur(5px);
            z-index: 1004; /* Səbətdən də üstdə */
            display: none; align-items: center; justify-content: center;
            padding: 20px; opacity: 0; transition: opacity 0.4s ease;
        }
        .productDetailsModal.show { display: flex; opacity: 1; }
        .productDetailsModalContent {
            background-color: var(--whiteColor); padding: 35px; border-radius: var(--borderRadius);
            max-width: 800px; width: 95%; max-height: 90vh; overflow-y: auto;
            position: relative; transform: scale(0.95); transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55);
        }
        .productDetailsModal.show .productDetailsModalContent { transform: scale(1); }
        .closeDetailsButton {
            position: absolute; top: 18px; right: 18px; font-size: 2.2rem;
            color: var(--textColor); cursor: pointer; background: none; border: none; line-height: 1;
        }
        .detailsLayout { display: flex; flex-wrap: wrap; gap: 30px; }
        .detailsImageContainer { flex: 1; min-width: 280px; }
        .detailsImageContainer img { width: 100%; max-height: 450px; object-fit: contain; border-radius: var(--borderRadius); }
        .detailsInfo { flex: 1.5; min-width: 300px; }
        .detailsInfo h2 { font-size: 2.2rem; margin-bottom: 15px; }
        .detailsInfo .productPrice { font-size: 1.8rem; margin-bottom: 20px; color: var(--accentColor); font-weight:bold; }
        .detailsInfo p { margin-bottom: 15px; line-height: 1.8; }
        .detailsInfo .buttonPrimary { margin-top: 20px; width: 100%; padding: 15px; font-size: 1.1rem; }

        /* Responsivlik */
        @media (max-width: 992px) {
            .mainNavDesktop { display: none; } /* Desktop naviqasiyasını gizlət */
            .mobileMenuButton { display: block; margin-left: 15px; } /* Hamburger menyu düyməsini göstər */
            .navAndControls .languageSwitcher { margin-left: 0; margin-right: 15px; } /* Dil dəyişdiricini hamburgerdən əvvələ çək */
            .logo { font-size: 1.7rem; }
             h1 { font-size: 2.5rem; }
             h2 { font-size: 2.1rem; }
             .slideContent h1 { font-size: 2.8rem; }
             .slideContent p { font-size: 1.1rem; }
        }
        @media (max-width: 768px) {
            :root { --headerHeight: 60px; }
            .sectionTitle { font-size: 2.2rem; }
            .aboutContent, .detailsLayout, .contactLayout { flex-direction: column; }
            .cartModal { max-width: 320px; }
            .productDetailsModalContent { padding: 25px; }
            .productGrid { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }
            .testimonialSlide { padding: 0 15px; } /* Sliderdə yan boşluqları azalt */
            .sliderControl { padding: 8px 12px; font-size: 1.2rem; width: 40px; height: 40px; }
        }
        @media (max-width: 480px) {
            h1 { font-size: 2rem; }
            h2 { font-size: 1.8rem; }
            .slideContent h1 { font-size: 2.2rem; }
            .slideContent p { font-size: 1rem; }
            .buttonPrimary { padding: 10px 20px; font-size: 0.9rem; }
            .productActions { flex-direction: column; } /* Düymələr alt-alta */
            .cartModal { max-width: 100%; width: 100%; right: -100%; }
            .cartModal.open { right: 0; }
        }

    </style>
</head>
<body>

    <header class="siteHeader">
        <div class="headerContainer container">
            <div class="logo">
                <a href="#home" data-translate-key="logoText">XalçaDZN</a>
            </div>
            <div class="navAndControls">
                <nav class="mainNavDesktop">
                    <ul>
                        <li><a href="#home" class="active" data-translate-key="navHome">Ana Səhifə</a></li>
                        <li><a href="#about" data-translate-key="navAbout">Haqqımızda</a></li>
                        <li><a href="#newArrivals" data-translate-key="navNewArrivals">Yeni Gələnlər</a></li>
                        <li><a href="#products" data-translate-key="navCarpets">Xalçalar</a></li>
                        <li><a href="#bestSellers" data-translate-key="navBestSellers">Ən Çox Satılanlar</a></li>
                        <li><a href="#testimonials" data-translate-key="navTestimonials">Rəylər</a></li>
                        <li><a href="#contact" data-translate-key="navContact">Əlaqə</a></li>
                    </ul>
                </nav>
                <div class="languageSwitcher">
                    <button id="langAz" data-lang="az">AZ</button>
                    <button id="langEn" data-lang="en">EN</button>
                </div>
                <div class="cartButtonContainer" id="cartButtonContainer">
                    <span class="cartIcon"><i class="fas fa-shopping-bag"></i></span>
                    <span class="cartItemCount" id="cartItemCount">0</span>
                </div>
                <button class="mobileMenuButton" id="mobileMenuButton" aria-label="Menu">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </header>

    <nav class="mainNavMobile" id="mainNavMobile">
        <ul>
            <li><a href="#home" data-translate-key="navHome">Ana Səhifə</a></li>
            <li><a href="#about" data-translate-key="navAbout">Haqqımızda</a></li>
            <li><a href="#newArrivals" data-translate-key="navNewArrivals">Yeni Gələnlər</a></li>
            <li><a href="#products" data-translate-key="navCarpets">Xalçalar</a></li>
            <li><a href="#bestSellers" data-translate-key="navBestSellers">Ən Çox Satılanlar</a></li>
            <li><a href="#testimonials" data-translate-key="navTestimonials">Rəylər</a></li>
            <li><a href="#carpetCare" data-translate-key="navCarpetCare">Xalça Qulluğu</a></li>
            <li><a href="#services" data-translate-key="navServices">Xidmətlər</a></li>
            <li><a href="#contact" data-translate-key="navContact">Əlaqə</a></li>
        </ul>
        <div class="languageSwitcher">
            <button class="mobileLangAz" data-lang="az">AZ</button>
            <button class="mobileLangEn" data-lang="en">EN</button>
        </div>
    </nav>

    <section id="home">
        <div class="sliderContainer" id="homeSlider">
            </div>
    </section>

    <section id="about" class="section stickySection">
        <div class="container">
            <h2 class="sectionTitle" data-translate-key="aboutTitle">Haqqımızda</h2>
            <div class="aboutContent">
                <div class="aboutText">
                    <h3 data-translate-key="aboutSubtitle">Xalçalarımızla Evinizə İncəsənət və Hərarət Qatın</h3>
                    <p data-translate-key="aboutP1">Bizim missiyamız sadəcə xalça satmaq deyil, həm də evlərinizə istilik, rahatlıq və estetik gözəllik gətirməkdir. Hər bir xalçamız ustalıqla seçilmiş materiallardan və ənənəvi toxuculuq sənətinin incəlikləri ilə hazırlanır.</p>
                    <p data-translate-key="aboutP2">Kolleksiyamızda klassik naxışlardan tutmuş müasir dizaynlara qədər geniş çeşiddə məhsullar tapa bilərsiniz. Keyfiyyətə və müştəri məmnuniyyətinə verdiyimiz önəm bizi fərqləndirən əsas dəyərlərimizdir.</p>
                    <a href="#products" class="buttonPrimary" data-translate-key="viewCollection">Kolleksiyamıza Baxın</a>
                </div>
                <div class="aboutImageContainer">
                    <img src="https://via.placeholder.com/550x400/e9d8a6/005f73?text=Bizim+Məkan" alt="Haqqımızda Şəkil" data-translate-key="aboutImageAlt">
                </div>
            </div>
        </div>
    </section>

    <section id="newArrivals" class="section stickySection">
        <div class="container">
            <h2 class="sectionTitle" data-translate-key="newArrivalsTitle">Yeni Gələnlər</h2>
            <div class="productGrid" id="newArrivalsGrid">
                </div>
        </div>
    </section>

    <section id="products" class="section stickySection">
        <div class="container">
            <h2 class="sectionTitle" data-translate-key="carpetsTitle">Bütün Xalçalar</h2>
            <div class="productGrid" id="productGrid">
                </div>
        </div>
    </section>

    <section id="bestSellers" class="section stickySection">
        <div class="container">
            <h2 class="sectionTitle" data-translate-key="bestSellersTitle">Ən Çox Satılanlar</h2>
            <div class="productGrid" id="bestSellersGrid">
                </div>
        </div>
    </section>

    <section id="advertisement" class="section stickySection">
        <div class="container">
            <h2 class="sectionTitle" data-translate-key="specialOfferTitle">Xüsusi Təklif!</h2>
            <div class="advertisementContent">
                <h3 data-translate-key="specialOfferName">Möhtəşəm "Saray İncisi" Xalçası - <span>35%</span> Endirim!</h3>
                <p data-translate-key="specialOfferDesc">Yalnız bu həftə! Əl işi, təbii ipək və yun qarışığından hazırlanmış, evinizə şahənə bir toxunuş bəxş edəcək "Saray İncisi" xalçasını inanılmaz qiymətə əldə edin.</p>
                <a href="#" class="buttonPrimary" data-product-id="special1" data-translate-key="buyNow">İndi Alın</a>
            </div>
        </div>
    </section>

    <section id="testimonials" class="section stickySection">
        <div class="container">
            <h2 class="sectionTitle" data-translate-key="testimonialsTitle">Müştəri Rəyləri</h2>
            <div class="testimonialSlider">
                <div class="testimonialSlidesContainer" id="testimonialSlidesContainer">
                    </div>
                <button class="sliderControl prevSlide" id="prevTestimonial"><i class="fas fa-chevron-left"></i></button>
                <button class="sliderControl nextSlide" id="nextTestimonial"><i class="fas fa-chevron-right"></i></button>
            </div>
        </div>
    </section>

    <section id="carpetCare" class="section stickySection">
        <div class="container">
            <h2 class="sectionTitle" data-translate-key="carpetCareTitle">Xalçalara Qulluq Bələdçisi</h2>
            <div class="careGrid">
                <div class="careItem">
                    <i class="fas fa-vacuum"></i>
                    <h4 data-translate-key="careVacuumTitle">Mütəmadi Tozsoranlama</h4>
                    <p data-translate-key="careVacuumDesc">Xalçanızın ömrünü uzatmaq üçün həftədə ən azı bir dəfə tozsoranlayın.</p>
                </div>
                <div class="careItem">
                    <i class="fas fa-tint-slash"></i>
                    <h4 data-translate-key="careSpillTitle">Ləkələri Dərhal Təmizləyin</h4>
                    <p data-translate-key="careSpillDesc">Ləkə olan kimi yumşaq parça və uyğun təmizləyici ilə dərhal müdaxilə edin.</p>
                </div>
                <div class="careItem">
                    <i class="fas fa-sync-alt"></i>
                    <h4 data-translate-key="careRotateTitle">Vaxtaşırı Çevirin</h4>
                    <p data-translate-key="careRotateDesc">Xalçanın bərabər köhnəlməsi üçün ildə bir-iki dəfə istiqamətini dəyişin.</p>
                </div>
                 <div class="careItem">
                    <i class="fas fa-sun"></i>
                    <h4 data-translate-key="careSunlightTitle">Birbaşa Günəş Şüalarından Qoruyun</h4>
                    <p data-translate-key="careSunlightDesc">Rənglərin solmaması üçün xalçanızı birbaşa günəş işığından uzaq tutun.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="services" class="section stickySection">
        <div class="container">
            <h2 class="sectionTitle" data-translate-key="servicesTitle">Xidmətlərimiz</h2>
            <div class="servicesGrid">
                <div class="serviceItem">
                    <i class="fas fa-soap"></i>
                    <h4 data-translate-key="serviceCleaning">Peşəkar Xalça Yuma</h4>
                    <p data-translate-key="serviceCleaningDesc">Xalçalarınızı ən son texnologiyalarla, zərər vermədən təmizləyirik.</p>
                </div>
                <div class="serviceItem">
                    <i class="fas fa-tools"></i>
                    <h4 data-translate-key="serviceRepair">Xalça Təmiri və Bərpası</h4>
                    <p data-translate-key="serviceRepairDesc">Qədim və ya zədələnmiş xalçalarınıza yeni nəfəs veririk.</p>
                </div>
                <div class="serviceItem">
                    <i class="fas fa-truck"></i>
                    <h4 data-translate-key="serviceDelivery">Sürətli və Etibarlı Çatdırılma</h4>
                    <p data-translate-key="serviceDeliveryDesc">Sifarişlərinizi qısa zamanda və təhlükəsiz şəkildə ünvanınıza çatdırırıq.</p>
                </div>
                <div class="serviceItem">
                    <i class="fas fa-comments"></i>
                    <h4 data-translate-key="serviceConsultation">Dizayn Məsləhəti</h4>
                    <p data-translate-key="serviceConsultationDesc">Məkanınıza uyğun xalça seçimində peşəkar məsləhətlər təqdim edirik.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="contact" class="section stickySection">
        <div class="container">
            <h2 class="sectionTitle" data-translate-key="contactTitle">Bizimlə Əlaqə</h2>
            <div class="contactLayout">
                <div class="contactInfo">
                    <h3 data-translate-key="contactGetInTouch">Bizə Yazın və ya Zəng Edin</h3>
                    <div class="contactDetail">
                        <i class="fas fa-map-marker-alt"></i>
                        <span data-translate-key="contactAddress">Bakı şəhəri, Nizami küçəsi 123, AZ1000</span>
                    </div>
                    <div class="contactDetail">
                        <i class="fas fa-phone-alt"></i>
                        <span>+994 50 123 45 67</span>
                    </div>
                    <div class="contactDetail">
                        <i class="fas fa-envelope"></i>
                        <span>info@xalcadzn.az</span>
                    </div>
                    <div class="socialIcons">
                        <a href="#" title="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" title="Facebook"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" title="WhatsApp"><i class="fab fa-whatsapp"></i></a>
                        <a href="#" title="Telegram"><i class="fab fa-telegram-plane"></i></a>
                    </div>
                </div>
                <div class="contactMap">
                     <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3039.748321739087!2d49.8420833153004!3d40.37012497937006!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x40307d4ec5fe0247%3A0x72ac13df5a87f6d8!2sNizami%20Street!5e0!3m2!1sen!2saz!4v1678886037782!5m2!1sen!2saz" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            </div>
        </div>
    </section>

    <footer class="siteFooter">
        <div class="container">
            <p>© <span id="currentYear"></span> <span data-translate-key="logoText">XalçaDZN</span>. <span data-translate-key="footerRights">Bütün hüquqlar qorunur.</span></p>
            <p data-translate-key="footerCreatedBy">Fərhad Sultan tərəfindən yaradılmışdır.</p>
        </div>
    </footer>

    <div class="scrollToTopButton" id="scrollToTopButton">
        <i class="fas fa-arrow-up"></i>
    </div>

    <div class="cartModal" id="cartModal">
        <div class="cartModalHeader">
            <h3 data-translate-key="cartTitle">Səbətiniz</h3>
            <button class="closeCartButton" id="closeCartButton" aria-label="Səbəti bağla">&times;</button>
        </div>
        <div class="cartModalBody" id="cartModalBody">
             <p class="emptyCartMessage" data-translate-key="emptyCartMsg">Səbətiniz boşdur.</p>
        </div>
        <div class="cartModalFooter">
            <div class="cartTotal">
                <span data-translate-key="cartTotal">Cəmi:</span>
                <span id="cartTotalAmount">0 AZN</span>
            </div>
            <button class="buttonPrimary" style="width:100%;" data-translate-key="checkout">Sifarişi Tamamla</button>
        </div>
    </div>

    <div class="productDetailsModal" id="productDetailsModal">
        <div class="productDetailsModalContent">
            <button class="closeDetailsButton" id="closeDetailsButton" aria-label="Detalları bağla">&times;</button>
            <div class="detailsLayout">
                <div class="detailsImageContainer">
                    <img src="" alt="Xalça Detalı" id="detailsImage">
                </div>
                <div class="detailsInfo">
                    <h2 id="detailsName"></h2>
                    <p class="productPrice" id="detailsPrice"></p>
                    <p><strong data-translate-key="detailsSizeLabel">Ölçü:</strong> <span id="detailsSize"></span></p>
                    <p><strong data-translate-key="detailsMaterialLabel">Material:</strong> <span id="detailsMaterial"></span></p>
                    <p><strong data-translate-key="detailsDescriptionLabel">Təsvir:</strong></p>
                    <p id="detailsDescription"></p>
                    <button class="buttonPrimary addToCartButton" id="detailsAddToCartButton" data-product-id="" data-translate-key="addToCart">Səbətə Əlavə Et</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // JavaScript kodu burada olacaq
        // (Əvvəlki JavaScript koduna tərcümə, yeni bölmələr, təkmilləşdirilmiş menyu və s. əlavə olunacaq)
        
        const translations = {
            az: {
                siteTitle: "Xalça Dünyası - Ən Gözəl Xalçalar",
                logoText: "XalçaDZN",
                navHome: "Ana Səhifə",
                navAbout: "Haqqımızda",
                navNewArrivals: "Yeni Gələnlər",
                navCarpets: "Xalçalar",
                navBestSellers: "Ən Çox Satılanlar",
                navTestimonials: "Rəylər",
                navCarpetCare: "Xalça Qulluğu",
                navServices: "Xidmətlər",
                navContact: "Əlaqə",
                homeSlide1Title: "Xalça Dünyasına Xoş Gəlmisiniz!",
                homeSlide1Subtitle: "Eviniz üçün ənənəvi və müasir dizaynlı, yüksək keyfiyyətli xalçalar.",
                homeSlide1Button: "Kolleksiyaya Baxın",
                homeSlide2Title: "Keyfiyyət və Zəriflik",
                homeSlide2Subtitle: "Əl işi, təbii materiallardan hazırlanmış unikal xalça modelləri.",
                homeSlide2Button: "Haqqımızda Daha Çox",
                homeSlide3Title: "Mövsümi Endirimlər!",
                homeSlide3Subtitle: "Seçilmiş xalçalara xüsusi təkliflərdən yararlanın.",
                homeSlide3Button: "Endirimləri Kəşf Et",
                aboutTitle: "Haqqımızda",
                aboutSubtitle: "Xalçalarımızla Evinizə İncəsənət və Hərarət Qatın",
                aboutP1: "Bizim missiyamız sadəcə xalça satmaq deyil, həm də evlərinizə istilik, rahatlıq və estetik gözəllik gətirməkdir. Hər bir xalçamız ustalıqla seçilmiş materiallardan və ənənəvi toxuculuq sənətinin incəlikləri ilə hazırlanır.",
                aboutP2: "Kolleksiyamızda klassik naxışlardan tutmuş müasir dizaynlara qədər geniş çeşiddə məhsullar tapa bilərsiniz. Keyfiyyətə və müştəri məmnuniyyətinə verdiyimiz önəm bizi fərqləndirən əsas dəyərlərimizdir.",
                viewCollection: "Kolleksiyamıza Baxın",
                aboutImageAlt: "Haqqımızda Şəkil",
                newArrivalsTitle: "Yeni Gələnlər",
                carpetsTitle: "Bütün Xalçalar",
                bestSellersTitle: "Ən Çox Satılanlar",
                specialOfferTitle: "Xüsusi Təklif!",
                specialOfferName: 'Möhtəşəm "Saray İncisi" Xalçası - 35% Endirim!',
                specialOfferDesc: "Yalnız bu həftə! Əl işi, təbii ipək və yun qarışığından hazırlanmış, evinizə şahənə bir toxunuş bəxş edəcək \"Saray İncisi\" xalçasını inanılmaz qiymətə əldə edin.",
                buyNow: "İndi Alın",
                testimonialsTitle: "Müştəri Rəyləri",
                testimonial1Quote: "Aldığım xalçadan çox razıyam! Keyfiyyəti əladır və evimə xüsusi bir gözəllik qatdı. Çatdırılma da çox sürətli oldu.",
                testimonial1Author: "Aygün Səmədova",
                testimonial1City: "Bakı",
                testimonial2Quote: "XalçaDZN komandasına təşəkkürlər! Seçim etməkdə çox kömək oldular və nəticədən çox məmnunam. Mütləq yenidən sifariş edəcəyəm.",
                testimonial2Author: "Elçin Ağayev",
                testimonial2City: "Gəncə",
                testimonial3Quote: "Onlayn xalça almağa bir az tərəddüd edirdim, amma bu sayt bütün gözləntilərimi aşdı. Xalça şəkildəkindən də gözəldir!",
                testimonial3Author: "Nərmin Quliyeva",
                testimonial3City: "Sumqayıt",
                carpetCareTitle: "Xalçalara Qulluq Bələdçisi",
                careVacuumTitle: "Mütəmadi Tozsoranlama",
                careVacuumDesc: "Xalçanızın ömrünü uzatmaq üçün həftədə ən azı bir dəfə tozsoranlayın.",
                careSpillTitle: "Ləkələri Dərhal Təmizləyin",
                careSpillDesc: "Ləkə olan kimi yumşaq parça və uyğun təmizləyici ilə dərhal müdaxilə edin.",
                careRotateTitle: "Vaxtaşırı Çevirin",
                careRotateDesc: "Xalçanın bərabər köhnəlməsi üçün ildə bir-iki dəfə istiqamətini dəyişin.",
                careSunlightTitle: "Birbaşa Günəş Şüalarından Qoruyun",
                careSunlightDesc: "Rənglərin solmaması üçün xalçanızı birbaşa günəş işığından uzaq tutun.",
                servicesTitle: "Xidmətlərimiz",
                serviceCleaning: "Peşəkar Xalça Yuma",
                serviceCleaningDesc: "Xalçalarınızı ən son texnologiyalarla, zərər vermədən təmizləyirik.",
                serviceRepair: "Xalça Təmiri və Bərpası",
                serviceRepairDesc: "Qədim və ya zədələnmiş xalçalarınıza yeni nəfəs veririk.",
                serviceDelivery: "Sürətli və Etibarlı Çatdırılma",
                serviceDeliveryDesc: "Sifarişlərinizi qısa zamanda və təhlükəsiz şəkildə ünvanınıza çatdırırıq.",
                serviceConsultation: "Dizayn Məsləhəti",
                serviceConsultationDesc: "Məkanınıza uyğun xalça seçimində peşəkar məsləhətlər təqdim edirik.",
                contactTitle: "Bizimlə Əlaqə",
                contactGetInTouch: "Bizə Yazın və ya Zəng Edin",
                contactAddress: "Bakı şəhəri, Nizami küçəsi 123, AZ1000",
                footerRights: "Bütün hüquqlar qorunur.",
                footerCreatedBy: "Fərhad Sultan tərəfindən yaradılmışdır.",
                cartTitle: "Səbətiniz",
                emptyCartMsg: "Səbətiniz boşdur.",
                cartTotal: "Cəmi:",
                checkout: "Sifarişi Tamamla",
                detailsSizeLabel: "Ölçü:",
                detailsMaterialLabel: "Material:",
                detailsDescriptionLabel: "Təsvir:",
                addToCart: "Səbətə Əlavə Et",
                viewDetails: "Ətraflı Bax",
                productPriceSuffix: "AZN"
            },
            en: {
                siteTitle: "Carpet World - The Most Beautiful Carpets",
                logoText: "CarpetDZN",
                navHome: "Home",
                navAbout: "About Us",
                navNewArrivals: "New Arrivals",
                navCarpets: "Carpets",
                navBestSellers: "Best Sellers",
                navTestimonials: "Testimonials",
                navCarpetCare: "Carpet Care",
                navServices: "Services",
                navContact: "Contact",
                homeSlide1Title: "Welcome to Our Carpet World!",
                homeSlide1Subtitle: "High-quality traditional and modern designed carpets for your home.",
                homeSlide1Button: "View Collection",
                homeSlide2Title: "Quality and Elegance",
                homeSlide2Subtitle: "Handmade unique carpet models from natural materials.",
                homeSlide2Button: "More About Us",
                homeSlide3Title: "Seasonal Discounts!",
                homeSlide3Subtitle: "Take advantage of special offers on selected carpets.",
                homeSlide3Button: "Discover Discounts",
                aboutTitle: "About Us",
                aboutSubtitle: "Add Art and Warmth to Your Home with Our Carpets",
                aboutP1: "Our mission is not just to sell carpets, but also to bring warmth, comfort, and aesthetic beauty to your homes. Each of our carpets is made from expertly selected materials and with the subtleties of traditional weaving art.",
                aboutP2: "In our collection, you can find a wide range of products from classic patterns to modern designs. Our emphasis on quality and customer satisfaction are the main values that differentiate us.",
                viewCollection: "View Our Collection",
                aboutImageAlt: "About Us Image",
                newArrivalsTitle: "New Arrivals",
                carpetsTitle: "All Carpets",
                bestSellersTitle: "Best Sellers",
                specialOfferTitle: "Special Offer!",
                specialOfferName: 'Magnificent "Palace Pearl" Carpet - 35% Discount!',
                specialOfferDesc: "Only this week! Get the handmade \"Palace Pearl\" carpet, made from a blend of natural silk and wool, which will add a royal touch to your home, at an incredible price.",
                buyNow: "Buy Now",
                testimonialsTitle: "Customer Testimonials",
                testimonial1Quote: "I am very satisfied with the carpet I bought! The quality is excellent and it added a special beauty to my home. Delivery was also very fast.",
                testimonial1Author: "Aygun Samadova",
                testimonial1City: "Baku",
                testimonial2Quote: "Thanks to the CarpetDZN team! They helped a lot in making a choice and I am very pleased with the result. I will definitely order again.",
                testimonial2Author: "Elchin Aghayev",
                testimonial2City: "Ganja",
                testimonial3Quote: "I was a little hesitant to buy a carpet online, but this site exceeded all my expectations. The carpet is even more beautiful than in the picture!",
                testimonial3Author: "Narmin Guliyeva",
                testimonial3City: "Sumgait",
                carpetCareTitle: "Carpet Care Guide",
                careVacuumTitle: "Regular Vacuuming",
                careVacuumDesc: "Vacuum your carpet at least once a week to extend its life.",
                careSpillTitle: "Clean Spills Immediately",
                careSpillDesc: "Address spills immediately with a soft cloth and suitable cleaner.",
                careRotateTitle: "Rotate Periodically",
                careRotateDesc: "Change the direction of the carpet once or twice a year for even wear.",
                careSunlightTitle: "Protect from Direct Sunlight",
                careSunlightDesc: "Keep your carpet away from direct sunlight to prevent colors from fading.",
                servicesTitle: "Our Services",
                serviceCleaning: "Professional Carpet Cleaning",
                serviceCleaningDesc: "We clean your carpets with the latest technologies without causing damage.",
                serviceRepair: "Carpet Repair and Restoration",
                serviceRepairDesc: "We give new life to your old or damaged carpets.",
                serviceDelivery: "Fast and Reliable Delivery",
                serviceDeliveryDesc: "We deliver your orders to your address quickly and safely.",
                serviceConsultation: "Design Consultation",
                serviceConsultationDesc: "We offer professional advice in choosing the right carpet for your space.",
                contactTitle: "Contact Us",
                contactGetInTouch: "Write or Call Us",
                contactAddress: "Baku city, Nizami street 123, AZ1000",
                footerRights: "All rights reserved.",
                footerCreatedBy: "Created by Farhad Sultan.",
                cartTitle: "Your Cart",
                emptyCartMsg: "Your cart is empty.",
                cartTotal: "Total:",
                checkout: "Checkout",
                detailsSizeLabel: "Size:",
                detailsMaterialLabel: "Material:",
                detailsDescriptionLabel: "Description:",
                addToCart: "Add to Cart",
                viewDetails: "View Details",
                productPriceSuffix: "USD" // Or keep AZN if prices are not converted
            }
        };

        let currentLanguage = localStorage.getItem('preferredLang') || 'az';

        function applyTranslations(lang) {
            document.documentElement.lang = lang;
            currentLanguage = lang;
            localStorage.setItem('preferredLang', lang);

            document.querySelectorAll('[data-translate-key]').forEach(element => {
                const key = element.dataset.translateKey;
                if (translations[lang] && translations[lang][key]) {
                    if (element.tagName === 'IMG' && key.endsWith('Alt')) {
                        element.alt = translations[lang][key];
                    } else if (element.tagName === 'TITLE') {
                        document.title = translations[lang][key];
                    }
                    else {
                        element.innerHTML = translations[lang][key]; // Use innerHTML for keys that might contain HTML like <span>
                    }
                }
            });
            // Update language buttons active state
            document.querySelectorAll('.languageSwitcher button').forEach(btn => {
                btn.classList.remove('activeLang');
                if (btn.dataset.lang === lang) {
                    btn.classList.add('activeLang');
                }
            });

            // Re-initialize dynamic content that depends on language
            // (e.g., sliders, product data if it's also translated)
            // For now, we assume product data in JS has one language or is handled separately
            createHomeSlider(homeSlidesData); 
            createTestimonialSlider(testimonialsData);
            displayProducts(productsData, 'productGrid');
            displayProducts(newArrivalsData, 'newArrivalsGrid');
            displayProducts(bestSellersData, 'bestSellersGrid');
            updateCart(); // Update cart texts like "AZN" or price formatting if needed
        }


        document.addEventListener('DOMContentLoaded', function() {
            const homeSliderEl = document.getElementById('homeSlider');
            const productGridEl = document.getElementById('productGrid');
            const newArrivalsGridEl = document.getElementById('newArrivalsGrid');
            const bestSellersGridEl = document.getElementById('bestSellersGrid');
            const testimonialSlidesContainerEl = document.getElementById('testimonialSlidesContainer');

            const cartButton = document.getElementById('cartButtonContainer');
            const cartModalEl = document.getElementById('cartModal');
            const closeCartButton = document.getElementById('closeCartButton');
            const cartItemCountEl = document.getElementById('cartItemCount');
            const cartModalBodyEl = document.getElementById('cartModalBody');
            const cartTotalAmountEl = document.getElementById('cartTotalAmount');

            const productDetailsModalEl = document.getElementById('productDetailsModal');
            const closeDetailsButton = document.getElementById('closeDetailsButton');
            
            const scrollToTopButton = document.getElementById('scrollToTopButton');
            
            const mobileMenuButton = document.getElementById('mobileMenuButton');
            const mainNavMobileEl = document.getElementById('mainNavMobile');
            const navLinks = document.querySelectorAll('.mainNavDesktop a, .mainNavMobile a');

            const langButtons = document.querySelectorAll('.languageSwitcher button');

            // --- Dynamic Data (Sample) ---
            // (Prices are kept as numbers, suffix like AZN/USD will be from translations)
            const homeSlidesData = [ /* Defined in translations now for titles/subtitles */ ];
            const productsData = [
                { id: 'p1', nameKey: 'productNameQarabağ', price: 750, image: 'https://via.placeholder.com/400x300/005f73/FFFFFF?text=Qarabağ+Xalçası', sizeKey: 'size200x300', materialKey: 'materialWool', descriptionKey: 'descQarabağ' },
                { id: 'p2', nameKey: 'productNameIrevan', price: 920, image: 'https://via.placeholder.com/400x300/0077b6/FFFFFF?text=İrəvan+Xalçası', sizeKey: 'size180x270', materialKey: 'materialSilkWool', descriptionKey: 'descIrevan' },
                { id: 'p3', nameKey: 'productNameTabriz', price: 1200, image: 'https://via.placeholder.com/400x300/02818a/FFFFFF?text=Təbriz+Xalçası', sizeKey: 'size220x320', materialKey: 'materialSilk', descriptionKey: 'descTabriz' },
                { id: 'p4', nameKey: 'productNameModern', price: 550, image: 'https://via.placeholder.com/400x300/04a0a0/333?text=Müasir+Xalça', sizeKey: 'size160x230', materialKey: 'materialSynthetic', descriptionKey: 'descModern' },
            ];
            // Add translation keys for product names, sizes, materials, descriptions in the `translations` object
            translations.az.productNameQarabağ = 'Qarabağ Xalçası "Şuşa"'; translations.en.productNameQarabağ = 'Karabakh Carpet "Shusha"';
            translations.az.size200x300 = '200x300 sm'; translations.en.size200x300 = '200x300 cm';
            translations.az.materialWool = 'Yun'; translations.en.materialWool = 'Wool';
            translations.az.descQarabağ = 'Ənənəvi Qarabağ naxışları ilə bəzədilmiş, yüksək keyfiyyətli yun xalça.'; translations.en.descQarabağ = 'High-quality wool carpet decorated with traditional Karabakh patterns.';
            // ... and so on for all products and their properties ...
            translations.az.productNameIrevan = 'İrəvan Xalçası "Gövhər"'; translations.en.productNameIrevan = 'Yerevan Carpet "Gevher"';
            translations.az.size180x270 = '180x270 sm'; translations.en.size180x270 = '180x270 cm';
            translations.az.materialSilkWool = 'İpək və Yun'; translations.en.materialSilkWool = 'Silk and Wool';
            translations.az.descIrevan = 'İncə naxışlı, ipək və yun qarışığından hazırlanmış gözəl İrəvan xalçası.'; translations.en.descIrevan = 'Beautiful Yerevan carpet made from a blend of silk and wool with fine patterns.';

            translations.az.productNameTabriz = 'Təbriz Xalçası "Ləçəkturan"'; translations.en.productNameTabriz = 'Tabriz Carpet "Lachakturan"';
            translations.az.size220x320 = '220x320 sm'; translations.en.size220x320 = '220x320 cm';
            translations.az.materialSilk = 'İpək'; translations.en.materialSilk = 'Silk';
            translations.az.descTabriz = 'Məşhur Təbriz məktəbinə aid, zərif Ləçəkturan kompozisiyalı ipək xalça.'; translations.en.descTabriz = 'Silk carpet with an elegant Lachakturan composition from the famous Tabriz school.';

            translations.az.productNameModern = 'Müasir Dizaynlı Xalça "Abstrakt"'; translations.en.productNameModern = 'Modern Design Carpet "Abstract"';
            translations.az.size160x230 = '160x230 sm'; translations.en.size160x230 = '160x230 cm';
            translations.az.materialSynthetic = 'Sintetik liflər'; translations.en.materialSynthetic = 'Synthetic fibers';
            translations.az.descModern = 'Müasir interyerlər üçün ideal, abstrakt naxışlı, davamlı xalça.'; translations.en.descModern = 'Durable carpet with abstract patterns, ideal for modern interiors.';


            const newArrivalsData = productsData.slice(0, 3); // Sample, use different data
            const bestSellersData = productsData.slice(1, 4); // Sample

            const testimonialsData = [ /* Defined in translations now for quotes/authors */ ];

            let cart = JSON.parse(localStorage.getItem('shoppingCart')) || [];
            let currentHomeSlideIndex = 0;
            let currentTestimonialSlideIndex = 0;

            // --- Language Switcher ---
            langButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const lang = button.dataset.lang;
                    applyTranslations(lang);
                    if (mainNavMobileEl.classList.contains('active')) { // Mobil menyu açıqdırsa bağla
                        mainNavMobileEl.classList.remove('active');
                        mobileMenuButton.innerHTML = '<i class="fas fa-bars"></i>';
                        document.body.style.overflow = '';
                    }
                });
            });
            
            // --- Mobile Menu ---
            mobileMenuButton.addEventListener('click', () => {
                mainNavMobileEl.classList.toggle('active');
                if (mainNavMobileEl.classList.contains('active')) {
                    mobileMenuButton.innerHTML = '<i class="fas fa-times"></i>'; // X ikonu
                    document.body.style.overflow = 'hidden'; // Arxa planın scroll olmasını əngəllə
                } else {
                    mobileMenuButton.innerHTML = '<i class="fas fa-bars"></i>'; // Hamburger ikonu
                    document.body.style.overflow = '';
                }
            });

            // --- Home Slider ---
            function createHomeSlider() {
                if (!homeSliderEl) return;
                homeSliderEl.innerHTML = '';
                const slidesContent = [
                    { titleKey: 'homeSlide1Title', subtitleKey: 'homeSlide1Subtitle', buttonKey: 'homeSlide1Button', buttonLink: '#products', image: 'https://via.placeholder.com/1920x1080/005f73/FFFFFF?text=Xalça+Sənəti' },
                    { titleKey: 'homeSlide2Title', subtitleKey: 'homeSlide2Subtitle', buttonKey: 'homeSlide2Button', buttonLink: '#about', image: 'https://via.placeholder.com/1920x1080/0077b6/FFFFFF?text=Ənənə+və+Müasirlik' },
                    { titleKey: 'homeSlide3Title', subtitleKey: 'homeSlide3Subtitle', buttonKey: 'homeSlide3Button', buttonLink: '#products', image: 'https://via.placeholder.com/1920x1080/02818a/FFFFFF?text=Xüsusi+Dizaynlar' }
                ];

                slidesContent.forEach((slideData, index) => {
                    const slideDiv = document.createElement('div');
                    slideDiv.classList.add('slide');
                    slideDiv.style.backgroundImage = `url('${slideData.image}')`;
                    slideDiv.innerHTML = `
                        <div class="slideContent">
                            <h1 data-translate-key="${slideData.titleKey}">${translations[currentLanguage][slideData.titleKey]}</h1>
                            <p data-translate-key="${slideData.subtitleKey}">${translations[currentLanguage][slideData.subtitleKey]}</p>
                            <a href="${slideData.buttonLink}" class="buttonPrimary" data-translate-key="${slideData.buttonKey}">${translations[currentLanguage][slideData.buttonKey]}</a>
                        </div>
                    `;
                    if (index === 0) slideDiv.classList.add('active');
                    homeSliderEl.appendChild(slideDiv);
                });
                
                const slides = homeSliderEl.querySelectorAll('.slide');
                if (slides.length === 0) return;

                function showHomeSlide(index) {
                    slides.forEach(s => s.classList.remove('active'));
                    slides[index].classList.add('active');
                }

                function nextHomeSlide() {
                    currentHomeSlideIndex = (currentHomeSlideIndex + 1) % slides.length;
                    showHomeSlide(currentHomeSlideIndex);
                }

                if (slides.length > 1) {
                    setInterval(nextHomeSlide, 6000); // Interval
                }
                showHomeSlide(0);
            }

            // --- Testimonial Slider ---
            function createTestimonialSlider() {
                if (!testimonialSlidesContainerEl) return;
                testimonialSlidesContainerEl.innerHTML = '';
                 const testimonialContent = [
                    { quoteKey: 'testimonial1Quote', authorKey: 'testimonial1Author', cityKey: 'testimonial1City', image: 'https://via.placeholder.com/80x80/005f73/FFFFFF?text=AR' },
                    { quoteKey: 'testimonial2Quote', authorKey: 'testimonial2Author', cityKey: 'testimonial2City', image: 'https://via.placeholder.com/80x80/0077b6/FFFFFF?text=EA' },
                    { quoteKey: 'testimonial3Quote', authorKey: 'testimonial3Author', cityKey: 'testimonial3City', image: 'https://via.placeholder.com/80x80/02818a/FFFFFF?text=NQ' }
                ];

                testimonialContent.forEach(testimonial => {
                    const slide = document.createElement('div');
                    slide.classList.add('testimonialSlide');
                    slide.innerHTML = `
                        <div class="testimonialCard">
                            <img src="${testimonial.image}" alt="${translations[currentLanguage][testimonial.authorKey]}">
                            <p class="testimonialQuote" data-translate-key="${testimonial.quoteKey}">${translations[currentLanguage][testimonial.quoteKey]}</p>
                            <p class="testimonialAuthor">
                                <strong data-translate-key="${testimonial.authorKey}">${translations[currentLanguage][testimonial.authorKey]}</strong> - 
                                <span data-translate-key="${testimonial.cityKey}">${translations[currentLanguage][testimonial.cityKey]}</span>
                            </p>
                        </div>
                    `;
                    testimonialSlidesContainerEl.appendChild(slide);
                });

                const slides = testimonialSlidesContainerEl.querySelectorAll('.testimonialSlide');
                if(slides.length === 0) return;

                function showTestimonialSlide(index) {
                    const offset = -index * 100; // Assuming each slide is 100% width
                    testimonialSlidesContainerEl.style.transform = `translateX(${offset}%)`;
                }
                document.getElementById('nextTestimonial')?.addEventListener('click', () => {
                    currentTestimonialSlideIndex = (currentTestimonialSlideIndex + 1) % slides.length;
                    showTestimonialSlide(currentTestimonialSlideIndex);
                });
                document.getElementById('prevTestimonial')?.addEventListener('click', () => {
                    currentTestimonialSlideIndex = (currentTestimonialSlideIndex - 1 + slides.length) % slides.length;
                    showTestimonialSlide(currentTestimonialSlideIndex);
                });
                 showTestimonialSlide(0);
            }
            
            // --- Display Products ---
            function displayProducts(data, gridId) {
                const gridElement = document.getElementById(gridId);
                if (!gridElement) return;
                gridElement.innerHTML = '';
                data.forEach(product => {
                    const productCard = document.createElement('div');
                    productCard.classList.add('productCard');
                    productCard.innerHTML = `
                        <div class="productImageContainer">
                            <img src="${product.image}" alt="${translations[currentLanguage][product.nameKey] || product.nameKey}">
                        </div>
                        <div class="productInfo">
                            <div>
                                <h3 class="productName" data-translate-key="${product.nameKey}">${translations[currentLanguage][product.nameKey] || product.nameKey}</h3>
                                <p class="productPrice">${product.price} ${translations[currentLanguage].productPriceSuffix || 'AZN'}</p>
                            </div>
                            <div class="productActions">
                                <button class="buttonSecondary viewDetailsButton" data-product-id="${product.id}" data-translate-key="viewDetails">${translations[currentLanguage].viewDetails}</button>
                                <button class="buttonPrimary addToCartButton" data-product-id="${product.id}" data-translate-key="addToCart">${translations[currentLanguage].addToCart}</button>
                            </div>
                        </div>
                    `;
                    gridElement.appendChild(productCard);
                });

                // Add event listeners after products are rendered
                gridElement.querySelectorAll('.addToCartButton').forEach(button => {
                    button.addEventListener('click', (e) => addToCart(e.target.dataset.productId));
                });
                gridElement.querySelectorAll('.viewDetailsButton').forEach(button => {
                    button.addEventListener('click', (e) => showProductDetails(e.target.dataset.productId));
                });
            }

            // --- Product Details Modal ---
            function showProductDetails(productId) {
                const product = productsData.find(p => p.id === productId); // Use the main productsData
                if (!product) return;

                document.getElementById('detailsImage').src = product.image;
                document.getElementById('detailsImage').alt = translations[currentLanguage][product.nameKey] || product.nameKey;
                document.getElementById('detailsName').textContent = translations[currentLanguage][product.nameKey] || product.nameKey;
                document.getElementById('detailsPrice').textContent = `${product.price} ${translations[currentLanguage].productPriceSuffix || 'AZN'}`;
                document.getElementById('detailsSize').textContent = translations[currentLanguage][product.sizeKey] || product.sizeKey;
                document.getElementById('detailsMaterial').textContent = translations[currentLanguage][product.materialKey] || product.materialKey;
                document.getElementById('detailsDescription').textContent = translations[currentLanguage][product.descriptionKey] || product.descriptionKey;
                document.getElementById('detailsAddToCartButton').dataset.productId = product.id;

                productDetailsModalEl.classList.add('show');
            }
            closeDetailsButton?.addEventListener('click', () => productDetailsModalEl.classList.remove('show'));
            productDetailsModalEl?.addEventListener('click', (e) => {
                if (e.target === productDetailsModalEl) productDetailsModalEl.classList.remove('show');
            });
            document.getElementById('detailsAddToCartButton')?.addEventListener('click', (e) => {
                 addToCart(e.target.dataset.productId);
                 productDetailsModalEl.classList.remove('show');
            });

            // --- Cart Functionality ---
            function addToCart(productId, quantity = 1) {
                const product = productsData.find(p => p.id === productId);
                if (!product) return;
                const existingItem = cart.find(item => item.id === productId);
                if (existingItem) existingItem.quantity += quantity;
                else cart.push({ ...product, quantity: quantity });
                updateCart();
                cartModalEl.classList.add('open'); // Open cart on add
            }
            function removeFromCart(productId) {
                cart = cart.filter(item => item.id !== productId);
                updateCart();
            }
            function updateQuantityInCart(productId, newQuantity) {
                 const itemInCart = cart.find(item => item.id === productId);
                 if(itemInCart) {
                    if(newQuantity <= 0) removeFromCart(productId);
                    else itemInCart.quantity = newQuantity;
                 }
                 updateCart();
            }
            function updateCart() {
                localStorage.setItem('shoppingCart', JSON.stringify(cart));
                renderCartItems();
                updateCartIcon();
                updateCartTotal();
            }
            function updateCartIcon() {
                const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
                cartItemCountEl.textContent = totalItems;
                cartItemCountEl.style.display = totalItems > 0 ? 'block' : 'none';
            }
            function updateCartTotal() {
                const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                cartTotalAmountEl.textContent = `${total.toFixed(2)} ${translations[currentLanguage].productPriceSuffix || 'AZN'}`;
            }
            function renderCartItems() {
                if (cart.length === 0) {
                    cartModalBodyEl.innerHTML = `<p class="emptyCartMessage" data-translate-key="emptyCartMsg">${translations[currentLanguage].emptyCartMsg}</p>`;
                } else {
                    cartModalBodyEl.innerHTML = cart.map(item => `
                        <div class="cartItem" data-product-id="${item.id}">
                            <img src="${item.image}" alt="${translations[currentLanguage][item.nameKey] || item.nameKey}">
                            <div class="cartItemInfo">
                                <h4>${translations[currentLanguage][item.nameKey] || item.nameKey}</h4>
                                <p>${translations[currentLanguage].cartPrice || 'Qiymət'}: ${item.price} ${translations[currentLanguage].productPriceSuffix || 'AZN'}</p>
                                <p>${translations[currentLanguage].cartQuantity || 'Say'}: 
                                    <input type="number" class="cartItemQuantityInput" value="${item.quantity}" min="1" data-product-id="${item.id}">
                                </p>
                            </div>
                            <button class="cartItemRemoveButton" data-product-id="${item.id}" aria-label="Remove item"><i class="fas fa-trash-alt"></i></button>
                        </div>
                    `).join('');
                }
            }
            cartButton?.addEventListener('click', () => cartModalEl.classList.add('open'));
            closeCartButton?.addEventListener('click', () => cartModalEl.classList.remove('open'));
            cartModalBodyEl.addEventListener('click', (e) => {
                if (e.target.closest('.cartItemRemoveButton')) {
                    removeFromCart(e.target.closest('.cartItemRemoveButton').dataset.productId);
                }
            });
            cartModalBodyEl.addEventListener('change', (e) => {
                 if (e.target.classList.contains('cartItemQuantityInput')) {
                    updateQuantityInCart(e.target.dataset.productId, parseInt(e.target.value));
                }
            });
             translations.az.cartPrice = "Qiymət"; translations.en.cartPrice = "Price";
             translations.az.cartQuantity = "Say"; translations.en.cartQuantity = "Quantity";


            // --- Scroll to Top & Active Nav Link ---
          window.addEventListener('scroll', () => {
    if (window.pageYOffset > 300) scrollToTopButton.classList.add('show');
    else scrollToTopButton.classList.remove('show');

    let currentSectionId = '';
    document.querySelectorAll('section').forEach(section => {
        const sectionTop = section.offsetTop;
        // Get the --headerHeight value from CSS
        const headerHeight = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--headerHeight'));
        if (pageYOffset >= sectionTop - (headerHeight + 20)) { // Use the parsed number
            currentSectionId = section.getAttribute('id');
        }
    });
    navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === `#${currentSectionId}`) {
            link.classList.add('active');
        }
    });
});
            scrollToTopButton?.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));
            
            // Footer-da current year
            document.getElementById('currentYear').textContent = new Date().getFullYear();
            
            // --- Initializations ---
            applyTranslations(currentLanguage); // Apply initial language
        });

    </script>
</body>
</html>

